---
alwaysApply: true
---

# Clean Code Principles for AI Coding Assistants

When writing code, follow the principles outlined in Robert C. Martin's (Uncle Bob) "Clean Code" book. Write code as if Uncle Bob himself wrote it.

## Core Principles

### 1. Self-Documenting Code (No Comments)

**Code should almost never have comments.** The code itself should be its own documentation through:
- Clear, descriptive function and variable names
- Logical organization and structure
- Small, focused functions that tell a story
- Proper abstraction levels

If you find yourself wanting to write a comment, refactor the code instead to make it clearer. Comments are a code smell indicating that the code isn't clear enough.

### 2. Single Responsibility Principle (SRP)

Every function, class, and module should have one reason to change. Each should do one thing and do it well:
- Functions should be small and focused on a single task
- Classes should represent a single concept
- Modules should have a cohesive purpose

### 3. Descriptive Naming

Names should be:
- **Descriptive and intention-revealing**: `calculateTotalPrice()` not `calc()`
- **Pronounceable**: `customerData` not `custDta`
- **Searchable**: Use full words, avoid single-letter variables (except loop counters)
- **Consistent**: Use the same vocabulary throughout (e.g., always use `fetch`, `retrieve`, or `get` consistently)
- **Avoid mental mapping**: `isValid` not `flag`
- **Use verbs for functions**: `processPayment()`, `validateInput()`, `formatDate()`
- **Use nouns for classes**: `PaymentProcessor`, `UserValidator`, `DateFormatter`

### 4. Small Functions

Functions should be:
- **Small**: Ideally 20 lines or less, rarely more than 50
- **Do one thing**: If you can extract another function with a name that isn't a restatement of the implementation, do it
- **Have fewer arguments**: Zero arguments is best, one is good, two is acceptable, three should be avoided, more than three requires justification
- **Have no side effects**: Functions should do what their name says, nothing more

### 5. Clean Organization

Code should be organized logically:
- **Top-to-bottom reading**: Higher-level concepts at the top, details at the bottom
- **Vertical distance**: Related concepts should be close together
- **Dependency rule**: Dependencies should point downward (high-level modules should not depend on low-level modules)
- **Group related functions**: Keep functions that work together near each other

### 6. Error Handling

- **Use exceptions rather than return codes**: Don't return error codes that must be checked
- **Write try-catch-finally first**: Handle errors before writing the happy path
- **Provide context with exceptions**: Include enough information to diagnose the problem
- **Don't return null**: Return empty collections or optional types instead
- **Don't pass null**: Avoid passing null to methods; use optional parameters or null objects

### 7. DRY (Don't Repeat Yourself)

- Eliminate duplication at every level
- Extract common functionality into reusable functions/classes
- Use abstraction to remove duplication

### 8. Clean Classes

Classes should:
- **Be small**: Follow SRP - a class should have one reason to change
- **Have high cohesion**: Methods and variables should be highly related
- **Have low coupling**: Dependencies should be minimal and explicit
- **Follow the Law of Demeter**: Objects should only talk to their immediate friends

### 9. Formatting and Style

- **Consistent formatting**: Use the same style throughout
- **Vertical formatting**: Use blank lines to separate concepts
- **Horizontal formatting**: Keep lines short (ideally under 120 characters)
- **Indentation**: Use consistent indentation to show structure

### 10. Test-Driven Development (TDD)

When appropriate:
- Write tests first (red)
- Write minimal code to pass (green)
- Refactor to clean code (refactor)
- Tests should be clean code too - readable, fast, independent, repeatable

### 11. Code Smells to Avoid

- **Long parameter lists**: Extract objects or use builder pattern
- **Data clumps**: Group related data into objects
- **Primitive obsession**: Don't use primitives where objects would be clearer
- **Long methods**: Break them down
- **Large classes**: Split them up
- **Feature envy**: Methods that use more of another class than their own
- **Inappropriate intimacy**: Classes that know too much about each other's internals

### 12. General Guidelines

- **Boy Scout Rule**: Leave the code cleaner than you found it
- **Readability over cleverness**: Simple, clear code is better than clever, complex code
- **Express intent**: Code should clearly express the programmer's intent
- **Minimize complexity**: Reduce cyclomatic complexity
- **Fail fast**: Validate inputs early and fail immediately if invalid

## Remember

The goal is to write code that:
- Is easy to read and understand
- Is easy to modify and extend
- Has minimal dependencies
- Is testable
- Expresses intent clearly through structure and naming

When in doubt, ask: "Would Uncle Bob approve of this code?" If the answer is no, refactor until it is yes.